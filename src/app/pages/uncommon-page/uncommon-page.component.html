<section class="m-10">
    <h1 class="text-2xl">Pipes no tan comunes</h1>
    <h3 class="text-xl">Pipes incluidos en angular que no se suelen usar constantemente</h3>
</section>

<section class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 m-2">
    <app-card title="i18nSelectPipe">
        <p>Saludos a {{client().name}} es un placer {{ client().gender | i18nSelect:invitationMap }} a nuestro evento</p>
        <button (click)="changeClient()" class="btn btn-primary">Cambiar cliente</button>
    </app-card>
    
    <app-card title="i18nPluralPipe">
        <p>Actualmente {{ clients().length | i18nPlural:clientsMap()}}</p>
        <button [disabled]="clients().length === 0" (click)="deleteClient()" class="btn btn-primary">Borrar cliente en espera</button>
    </app-card>
    
    <app-card title="SlicePipe">
        <b>Original</b>
        <p>
            {{clients().join(', ')}}
        </p>

        <b class="mt-2">Slice:0:2 (Quita del primer índice seleccionado al último sin incluirlo)</b>
        <p>{{clients() | slice:0:2}}</p>
        
        <b class="mt-2">Slice:1:2 (Quita del primer índice seleccionado al último sin incluirlo)</b>
        <p>{{clients() | slice:1:2}}</p>
        
        <b class="mt-2">Slice:1:3 (Quita del primer índice seleccionado al último sin incluirlo)</b>
        <p>{{clients() | slice:1:3}}</p>
        
        <b class="mt-2">Slice:0:-3 (Con valores negativos, se recorre el arreglo de fin a inicio y se ignoran los valores)</b>
        <p>{{clients() | slice:0:-3}}</p>
    </app-card>

    <app-card title="JsonPipe">
        <pre>{{clients() | json}}</pre>
        <pre>{{client() | json}}</pre>
        <pre>{{clients().join(', ') | json}}</pre>
    </app-card>
    
    <app-card title="JsonPipe">
        <pre>{{profile | keyvalue | json}}</pre>

        <ul class="flex flex-col">
            @for (item of profile | keyvalue; track $index) {
                <span>
                    <strong>{{item.key}}</strong>: {{item.value}}
                </span>
            }
        </ul>
    </app-card>

    <app-card title="Async Pipe">
        <p>{{promiseValue | async}}</p>
        @if (promiseValue | async; as value) {
            <p class="text-primary">{{value}}</p>
        } @else {
            <p class="text-error">Espere por favor...</p>
        }

        <h3>Observable</h3>
        <p>{{myObservableTimer | async}}</p>
    </app-card>
</section>